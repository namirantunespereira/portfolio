const display=document.getElementById('display');const buttons=document.querySelectorAll('button[data-k]');let buffer='';function update(){display.value=buffer||'0';}buttons.forEach(btn=>{btn.addEventListener('click',()=>{buffer+=btn.dataset.k;update();});});document.getElementById('clear').addEventListener('click',()=>{buffer='';update();});document.getElementById('equals').addEventListener('click',()=>{try{const res=Function(`return ${buffer}`)();buffer=String(res);update();}catch{buffer='';display.value='Error';}});window.addEventListener('keydown',(e)=>{const k=e.key;if(/[\d\+\-\*\/\.]/.test(k)){buffer+=k;update();}else if(k==='Enter')document.getElementById('equals').click();else if(k==='Escape')document.getElementById('clear').click();});